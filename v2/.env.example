# =============================================================================
# DevOps Portal v2 - Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000

# -----------------------------------------------------------------------------
# Authentication (NextAuth.js)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-secret-here
NEXTAUTH_URL=http://localhost:3000

# Keycloak OIDC Provider
KEYCLOAK_ID=devops-portal
KEYCLOAK_SECRET=your-keycloak-secret
KEYCLOAK_ISSUER=https://keycloak.example.com/realms/devops

# GitHub OAuth (via Keycloak identity brokering OR direct)
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/devops_portal?schema=public

# -----------------------------------------------------------------------------
# Redis (Sessions, Rate Limiting, BullMQ)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379

# Token encryption key for GitHub tokens (generate with: openssl rand -hex 32)
TOKEN_ENCRYPTION_KEY=your-64-char-hex-key-here

# -----------------------------------------------------------------------------
# GitHub Integration
# -----------------------------------------------------------------------------
GITHUB_TOKEN=your-github-pat
GITHUB_ORGANIZATION=your-org
GITHUB_USE_MOCK_DATA=false

# -----------------------------------------------------------------------------
# ArgoCD Integration
# -----------------------------------------------------------------------------
ARGOCD_URL=https://argocd.example.com
ARGOCD_TOKEN=your-argocd-token

# -----------------------------------------------------------------------------
# Grafana Integration
# -----------------------------------------------------------------------------
GRAFANA_URL=https://grafana.example.com
GRAFANA_API_KEY=your-grafana-api-key

# -----------------------------------------------------------------------------
# Uptime Kuma Integration
# -----------------------------------------------------------------------------
UPTIME_KUMA_URL=https://uptime.example.com
UPTIME_KUMA_API_KEY=your-uptime-kuma-key

# -----------------------------------------------------------------------------
# Prometheus Integration
# -----------------------------------------------------------------------------
PROMETHEUS_URL=http://prometheus:9090

# -----------------------------------------------------------------------------
# Observability
# -----------------------------------------------------------------------------
# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=devops-portal

# Logging
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Feature Flags (simple boolean for MVP)
# -----------------------------------------------------------------------------
FEATURE_BULK_OPERATIONS=true
FEATURE_COST_INSIGHTS=false
FEATURE_AI_SEARCH=false

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_GENERAL=100
RATE_LIMIT_BULK=10
RATE_LIMIT_SYNC=30
RATE_LIMIT_AUTH=5
